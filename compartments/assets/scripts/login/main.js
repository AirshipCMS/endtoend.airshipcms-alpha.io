webpackJsonp([1],{0:function(n,t,l){n.exports=l("cDNt")},cDNt:function(n,t,l){"use strict";function e(n){return A["\u0275vid"](0,[(n()(),A["\u0275eld"](0,0,null,null,15,"div",[],null,null,null,null,null)),(n()(),A["\u0275ted"](-1,null,["\n    "])),(n()(),A["\u0275eld"](2,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),A["\u0275ted"](-1,null,["Login"])),(n()(),A["\u0275ted"](-1,null,["\n    "])),(n()(),A["\u0275eld"](5,0,null,null,9,"div",[["class","login"]],null,null,null,null,null)),(n()(),A["\u0275ted"](-1,null,["\n      "])),(n()(),A["\u0275eld"](7,0,null,null,1,"button",[["class","login-button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.auth.login()&&e}return e},null,null)),(n()(),A["\u0275ted"](-1,null,["Login"])),(n()(),A["\u0275ted"](-1,null,["\n      "])),(n()(),A["\u0275eld"](10,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),A["\u0275ted"](-1,null,["Don't have a Login? "])),(n()(),A["\u0275eld"](12,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.signUp()&&e}return e},null,null)),(n()(),A["\u0275ted"](-1,null,["Create an Account"])),(n()(),A["\u0275ted"](-1,null,["\n    "])),(n()(),A["\u0275ted"](-1,null,["\n  "]))],null,null)}function o(n){return A["\u0275vid"](0,[(n()(),A["\u0275eld"](0,0,null,null,13,"div",[["class","login"]],null,null,null,null,null)),(n()(),A["\u0275ted"](-1,null,["\n    "])),(n()(),A["\u0275eld"](2,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),A["\u0275ted"](-1,null,["Welcome!"])),(n()(),A["\u0275ted"](-1,null,["\n    "])),(n()(),A["\u0275eld"](5,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),A["\u0275ted"](-1,null,["\n      "])),(n()(),A["\u0275eld"](7,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),A["\u0275ted"](8,null,["You are logged in as ",""])),(n()(),A["\u0275ted"](-1,null,["\n      "])),(n()(),A["\u0275eld"](10,0,null,null,1,"a",[["class","button"],["href","/checkout"]],null,null,null,null,null)),(n()(),A["\u0275ted"](-1,null,["Continue to Checkout"])),(n()(),A["\u0275ted"](-1,null,["\n    "])),(n()(),A["\u0275ted"](-1,null,["\n  "]))],null,function(n,t){var l=t.component;n(t,8,0,null==l.auth.user?null:l.auth.user.email)})}function u(n){return A["\u0275vid"](0,[(n()(),A["\u0275eld"](0,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(n()(),A["\u0275ted"](-1,null,["\n  "])),(n()(),A["\u0275and"](16777216,null,null,1,null,e)),A["\u0275did"](3,16384,null,0,N.h,[A.ViewContainerRef,A.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),A["\u0275ted"](-1,null,["\n  "])),(n()(),A["\u0275and"](16777216,null,null,1,null,o)),A["\u0275did"](6,16384,null,0,N.h,[A.ViewContainerRef,A.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),A["\u0275ted"](-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,!l.auth.authenticated()),n(t,6,0,l.auth.authenticated())},null)}function i(n){return A["\u0275vid"](0,[(n()(),A["\u0275eld"](0,0,null,null,1,"app-login",[],null,null,null,u,E)),A["\u0275did"](1,114688,null,0,P,[w,L.k],null,null)],function(n,t){n(t,1,0)},null)}function r(n){return B["\u0275vid"](0,[(n()(),B["\u0275eld"](0,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),B["\u0275ted"](-1,null,["Didn't get an email? "])),(n()(),B["\u0275eld"](2,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.resendConfirmation()&&e}return e},null,null)),(n()(),B["\u0275ted"](-1,null,["Resend the Confirmation"]))],null,null)}function a(n){return B["\u0275vid"](0,[(n()(),B["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),B["\u0275ted"](-1,null,["Confirmation sent"]))],null,null)}function c(n){return B["\u0275vid"](0,[(n()(),B["\u0275eld"](0,0,null,null,23,"div",[["class","container"]],null,null,null,null,null)),(n()(),B["\u0275ted"](-1,null,["\n  "])),(n()(),B["\u0275eld"](2,0,null,null,20,"div",[],null,null,null,null,null)),(n()(),B["\u0275ted"](-1,null,["\n    "])),(n()(),B["\u0275eld"](4,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),B["\u0275ted"](-1,null,["Confirm Your Account"])),(n()(),B["\u0275ted"](-1,null,["\n    "])),(n()(),B["\u0275eld"](7,0,null,null,14,"div",[["class","login confirm-account"]],null,null,null,null,null)),(n()(),B["\u0275ted"](-1,null,["\n      "])),(n()(),B["\u0275eld"](9,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),B["\u0275ted"](-1,null,["Please check your email to confirm your account"])),(n()(),B["\u0275ted"](-1,null,["\n      "])),(n()(),B["\u0275eld"](12,0,null,null,2,"button",[["class","button"],["routerLink","/login"]],null,[[null,"click"]],function(n,t,l){var e=!0;if("click"===t){e=!1!==B["\u0275nov"](n,13).onClick()&&e}return e},null,null)),B["\u0275did"](13,16384,null,0,q.l,[q.k,q.a,[8,null],B.Renderer2,B.ElementRef],{routerLink:[0,"routerLink"]},null),(n()(),B["\u0275ted"](-1,null,["Continue"])),(n()(),B["\u0275ted"](-1,null,["\n      "])),(n()(),B["\u0275and"](16777216,null,null,1,null,r)),B["\u0275did"](17,16384,null,0,J.h,[B.ViewContainerRef,B.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),B["\u0275ted"](-1,null,["\n      "])),(n()(),B["\u0275and"](16777216,null,null,1,null,a)),B["\u0275did"](20,16384,null,0,J.h,[B.ViewContainerRef,B.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),B["\u0275ted"](-1,null,["\n    "])),(n()(),B["\u0275ted"](-1,null,["\n  "])),(n()(),B["\u0275ted"](-1,null,["\n"]))],function(n,t){var l=t.component;n(t,13,0,"/login"),n(t,17,0,!l.confirmationEmailSent),n(t,20,0,l.confirmationEmailSent)},null)}function d(n){return B["\u0275vid"](0,[(n()(),B["\u0275eld"](0,0,null,null,1,"app-confirm-account",[],null,null,null,c,H)),B["\u0275did"](1,114688,null,0,x,[w,q.k],null,null)],function(n,t){n(t,1,0)},null)}function s(n){return X["\u0275vid"](0,[(n()(),X["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),X["\u0275did"](1,212992,null,0,z.n,[z.b,X.ViewContainerRef,X.ComponentFactoryResolver,[8,null],X.ChangeDetectorRef],null,null)],function(n,t){n(t,1,0)},null)}function p(n){return X["\u0275vid"](0,[(n()(),X["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,s,Y)),X["\u0275did"](1,49152,null,0,m,[],null,null)],null,null)}Object.defineProperty(t,"__esModule",{value:!0});var h={production:!1,domain:"https://endtoend.airshipcms-alpha.io",auth0Domain:"airshipcms-alpha.auth0.com",auth0ClientID:"iL9u-0bszQu-NFn4jXeq04LnTWaivVP5",auth0Secret:"dJmDMglFScWgETq5caqJ_VF_2eef8y_dkuI9B2vapOz6CiEXX65sK5rncrPMxq_g",auth0RedurectUri:"https://endtoend.airshipcms-alpha.io/api/auth0/",auth0ApiClientID:"dnuH94ewI0db3d9OACJa2ywoglT1XJNU",auth0ApiSecret:"ugg5Ja6iE4z8nUH35OnGrBOEXAs-oXuXBjWObNlJGI0YRxLrCOYdlu6QGE2w3iJ0"},f=function(){function n(){}return n}(),m=function(){function n(){this.title="app"}return n}(),g=[".button[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin:1em;border-top-right-radius:2px;border-bottom-right-radius:2px;border-bottom-left-radius:2px;border-top-left-radius:2px;transition:all .3s ease;display:inline-block;padding:0 .5rem;box-sizing:border-box;width:100%;font-size:14px;width:300px;height:2.75rem;line-height:2.75rem;border:0;color:#fff;vertical-align:middle;margin:0 1rem 1rem 0;cursor:pointer;-webkit-appearance:none;-webkit-font-smoothing:antialiased;background-color:#a5a5a5}.button[_ngcontent-%COMP%], .container[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{text-align:center}.login[_ngcontent-%COMP%]{border:1px solid #eceded;padding:1em}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#b4b4b4}"],v=[".login-button[_ngcontent-%COMP%]{background-color:#90a437}"],k=l("Dqrr"),b=(l.n(k),l("bKpL")),y=(l.n(b),l("CPp0")),C=l("/gyq"),I=l.n(C),S=l("W4CS"),w=(l.n(S),function(){function n(n){var t=this;this.http=n,this.options={closable:!0,initialScreen:"login",allowedConnections:["Username-Password-Authentication"],auth:{redirectUrl:h.auth0RedurectUri,responseType:"code"},theme:{primaryColor:"#7C8390",logo:"https://res.cloudinary.com/airship/image/upload/v1492152050/auth0.png"}},this.lock=new I.a(h.auth0ClientID,h.auth0Domain,this.options),this.user=JSON.parse(localStorage.getItem("user")),this.status=new b.Observable(function(n){return t.observer=n}).share(),this.lock.on("authenticated",function(n){t.lock.getProfile(localStorage.getItem("id_token"),function(n,l){n&&console.log("no user profile"),localStorage.setItem("profile",JSON.stringify(l)),t.changeState(!0)})})}return n.prototype.changeState=function(n){void 0!==this.observer&&this.observer.next(n)},n.prototype.login=function(){this.options.initialScreen="login",this.lock=new I.a(h.auth0ClientID,h.auth0Domain,this.options),this.lock.show()},n.prototype.signUp=function(){this.options.initialScreen="signUp",this.lock=new I.a(h.auth0ClientID,h.auth0Domain,this.options),this.lock.show()},n.prototype.authenticated=function(){return Object(S.tokenNotExpired)("id_token")},n.prototype.logout=function(){localStorage.clear()},n.prototype.getProfile=function(){return JSON.parse(localStorage.getItem("profile"))},n.prototype.getAirshipUser=function(){var n=new y.Headers({Authorization:"Bearer "+localStorage.getItem("id_token")}),t=new y.RequestOptions({headers:n});return this.http.get(h.domain+"/api/account/profile",t).toPromise().then(function(n){return n.json()}).catch(this.handleError)},n.prototype.getAccessToken=function(n){var t=new y.Headers({"Content-type":"application/json"}),l=new y.RequestOptions({headers:t}),e={client_id:h.auth0ClientID,redirect_uri:h.domain+"/api/auth0/",client_secret:h.auth0Secret,grant_type:"authorization_code",code:n};return this.http.post("https://"+h.auth0Domain+"/oauth/token",e,l).toPromise().then(function(n){return n.json()}).catch(this.handleError)},n.prototype.getAccount=function(){var n=new y.Headers({Authorization:"Bearer "+localStorage.getItem("id_token")}),t=new y.RequestOptions({headers:n});return this.http.get(h.domain+"/api/account",t).map(function(n){return n.json()}).catch(this.handleError)},n.prototype.getToken=function(){var n=new y.Headers({"Content-Type":"application/json"}),t=new y.RequestOptions({headers:n}),l="https://"+h.auth0Domain+"/oauth/token",e={grant_type:"client_credentials",client_id:h.auth0ApiClientID,client_secret:h.auth0ApiSecret,audience:"https://"+h.auth0Domain+"/api/v2/"};return this.http.post(l,e,t).toPromise().then(function(n){return n.json()}).catch(this.handleError)},n.prototype.resendVerification=function(n){var t=new y.Headers({Authorization:"Bearer "+n,"Content-Type":"application/json"}),l=new y.RequestOptions({headers:t}),e={user_id:JSON.parse(localStorage.getItem("profile")).user_id},o="https://"+h.auth0Domain+"/api/v2/jobs/verification-email";return this.http.post(o,e,l).toPromise().then(function(n){return n.json()}).catch(this.handleError)},n.prototype.handleError=function(n){return b.Observable.throw(n)},n.ctorParameters=function(){return[{type:y.Http}]},n}()),O=l("BkNc"),_=function(){function n(n,t){this.auth=n,this.router=t,this.status=!1}return n.prototype.canActivate=function(){return!!this.auth.authenticated()||(this.router.navigate(["/login"]),!1)},n.ctorParameters=function(){return[{type:w},{type:O.k}]},n}(),R=l("BkNc"),P=function(){function n(n,t){this.auth=n,this.router=t,this.auth.user=JSON.parse(localStorage.getItem("user"))}return n.prototype.ngOnInit=function(){var n=this;this.getAccessToken(),this.auth.authenticated()&&this.auth.getProfile().email_verified?this.getUser():this.auth.status.subscribe(function(t){t&&(n.verified=n.auth.getProfile().email_verified),n.verified=!!n.auth.getProfile()&&n.auth.getProfile().email_verified,n.verified?null!==n.auth.user&&void 0!==n.auth.user||!n.verified||n.getUser():n.router.navigate(["/signin/confirm-account"])})},n.prototype.login=function(){localStorage.clear(),this.auth.login()},n.prototype.signUp=function(){localStorage.clear(),this.auth.signUp()},n.prototype.getUser=function(){var n=this;this.auth.getAirshipUser().then(function(t){localStorage.setItem("user",JSON.stringify(t)),n.auth.user=t,n.auth.getAccount().subscribe(function(n){return localStorage.setItem("account",JSON.stringify(n))},function(n){return console.error(n)})}).catch(function(n){console.error(n)})},n.prototype.getAccessToken=function(){var n=this,t=location.search.split("code=")[1];void 0!==t&&(localStorage.setItem("code",t),this.auth.getAccessToken(t).then(function(t){localStorage.setItem("id_token",t.id_token),n.auth.lock._events.authenticated(),window.history.pushState("","","/"+window.location.href.substring(window.location.href.lastIndexOf("/")+1).split("?")[0])}).catch(function(n){console.log(n),window.history.pushState("","","/"+window.location.href.substring(window.location.href.lastIndexOf("/")+1).split("?")[0])}))},n.ctorParameters=function(){return[{type:w},{type:R.k}]},n}(),A=l("/oeL"),N=l("qbdv"),L=l("BkNc"),D=[g,v],E=A["\u0275crt"]({encapsulation:0,styles:D,data:{}}),T=A["\u0275ccf"]("app-login",P,i,{},{},[]),M=[""],j=l("BkNc"),x=function(){function n(n,t){this.auth=n,this.router=t}return n.prototype.ngOnInit=function(){var n=this;this.auth.lock.getProfile(localStorage.getItem("id_token"),function(t,l){if(t)return console.log(t);localStorage.setItem("profile",JSON.stringify(l)),l.email_verified&&n.router.navigate(["/signin"])})},n.prototype.resendConfirmation=function(){var n=this;this.auth.getToken().then(function(t){n.auth.resendVerification(t.access_token).then(function(t){n.confirmationEmailSent=!0,setTimeout(function(){n.confirmationEmailSent=!1},3e3)}).catch(function(n){return console.error(n)})}).catch(function(n){return console.error(n)})},n.ctorParameters=function(){return[{type:w},{type:j.k}]},n}(),B=l("/oeL"),q=l("BkNc"),J=l("qbdv"),F=[g,M],H=B["\u0275crt"]({encapsulation:0,styles:F,data:{}}),U=B["\u0275ccf"]("app-confirm-account",x,d,{},{},[]),X=l("/oeL"),z=l("BkNc"),V=[g],Y=X["\u0275crt"]({encapsulation:0,styles:V,data:{}}),W=X["\u0275ccf"]("app-root",m,p,{},{},[]),Z=l("/oeL"),G=l("qbdv"),K=l("fc+i"),Q=l("CPp0"),$=l("BkNc"),nn=Z["\u0275cmf"](f,[m],function(n){return Z["\u0275mod"]([Z["\u0275mpd"](512,Z.ComponentFactoryResolver,Z["\u0275CodegenComponentFactoryResolver"],[[8,[T,U,W]],[3,Z.ComponentFactoryResolver],Z.NgModuleRef]),Z["\u0275mpd"](5120,Z.LOCALE_ID,Z["\u0275m"],[[3,Z.LOCALE_ID]]),Z["\u0275mpd"](4608,G.j,G.i,[Z.LOCALE_ID]),Z["\u0275mpd"](5120,Z.APP_ID,Z["\u0275f"],[]),Z["\u0275mpd"](5120,Z.IterableDiffers,Z["\u0275k"],[]),Z["\u0275mpd"](5120,Z.KeyValueDiffers,Z["\u0275l"],[]),Z["\u0275mpd"](4608,K.b,K.s,[G.c]),Z["\u0275mpd"](6144,Z.Sanitizer,null,[K.b]),Z["\u0275mpd"](4608,K.e,K.f,[]),Z["\u0275mpd"](5120,K.c,function(n,t,l,e){return[new K.k(n),new K.o(t),new K.n(l,e)]},[G.c,G.c,G.c,K.e]),Z["\u0275mpd"](4608,K.d,K.d,[K.c,Z.NgZone]),Z["\u0275mpd"](135680,K.m,K.m,[G.c]),Z["\u0275mpd"](4608,K.l,K.l,[K.d,K.m]),Z["\u0275mpd"](6144,Z.RendererFactory2,null,[K.l]),Z["\u0275mpd"](6144,K.p,null,[K.m]),Z["\u0275mpd"](4608,Z.Testability,Z.Testability,[Z.NgZone]),Z["\u0275mpd"](4608,K.g,K.g,[G.c]),Z["\u0275mpd"](4608,K.i,K.i,[G.c]),Z["\u0275mpd"](4608,Q.BrowserXhr,Q.BrowserXhr,[]),Z["\u0275mpd"](4608,Q.ResponseOptions,Q.BaseResponseOptions,[]),Z["\u0275mpd"](5120,Q.XSRFStrategy,Q["\u0275b"],[]),Z["\u0275mpd"](4608,Q.XHRBackend,Q.XHRBackend,[Q.BrowserXhr,Q.ResponseOptions,Q.XSRFStrategy]),Z["\u0275mpd"](4608,Q.RequestOptions,Q.BaseRequestOptions,[]),Z["\u0275mpd"](5120,Q.Http,Q["\u0275c"],[Q.XHRBackend,Q.RequestOptions]),Z["\u0275mpd"](5120,$.a,$.w,[$.k]),Z["\u0275mpd"](4608,$.d,$.d,[]),Z["\u0275mpd"](6144,$.f,null,[$.d]),Z["\u0275mpd"](135680,$.o,$.o,[$.k,Z.NgModuleFactoryLoader,Z.Compiler,Z.Injector,$.f]),Z["\u0275mpd"](4608,$.e,$.e,[]),Z["\u0275mpd"](5120,$.h,$.z,[$.x]),Z["\u0275mpd"](5120,Z.APP_BOOTSTRAP_LISTENER,function(n){return[n]},[$.h]),Z["\u0275mpd"](4608,w,w,[Q.Http]),Z["\u0275mpd"](4608,_,_,[w,$.k]),Z["\u0275mpd"](512,G.b,G.b,[]),Z["\u0275mpd"](1024,Z.ErrorHandler,K.q,[]),Z["\u0275mpd"](1024,Z.NgProbeToken,function(){return[$.s()]},[]),Z["\u0275mpd"](512,$.x,$.x,[Z.Injector]),Z["\u0275mpd"](1024,Z.APP_INITIALIZER,function(n,t,l){return[K.r(n,t),$.y(l)]},[[2,K.h],[2,Z.NgProbeToken],$.x]),Z["\u0275mpd"](512,Z.ApplicationInitStatus,Z.ApplicationInitStatus,[[2,Z.APP_INITIALIZER]]),Z["\u0275mpd"](131584,Z["\u0275e"],Z["\u0275e"],[Z.NgZone,Z["\u0275Console"],Z.Injector,Z.ErrorHandler,Z.ComponentFactoryResolver,Z.ApplicationInitStatus]),Z["\u0275mpd"](2048,Z.ApplicationRef,null,[Z["\u0275e"]]),Z["\u0275mpd"](512,Z.ApplicationModule,Z.ApplicationModule,[Z.ApplicationRef]),Z["\u0275mpd"](512,K.a,K.a,[[3,K.a]]),Z["\u0275mpd"](512,Q.HttpModule,Q.HttpModule,[]),Z["\u0275mpd"](1024,$.r,$.u,[[3,$.k]]),Z["\u0275mpd"](512,$.q,$.c,[]),Z["\u0275mpd"](512,$.b,$.b,[]),Z["\u0275mpd"](256,$.g,{},[]),Z["\u0275mpd"](1024,G.g,$.t,[G.l,[2,G.a],$.g]),Z["\u0275mpd"](512,G.f,G.f,[G.g]),Z["\u0275mpd"](512,Z.Compiler,Z.Compiler,[]),Z["\u0275mpd"](512,Z.NgModuleFactoryLoader,Z.SystemJsNgModuleLoader,[Z.Compiler,[2,Z.SystemJsNgModuleLoaderConfig]]),Z["\u0275mpd"](1024,$.i,function(){return[[{path:"signin",component:P},{path:"signin/confirm-account",component:x,canActivate:[_]}]]},[]),Z["\u0275mpd"](1024,$.k,$.v,[Z.ApplicationRef,$.q,$.b,G.f,Z.Injector,Z.NgModuleFactoryLoader,Z.Compiler,$.i,$.g,[2,$.p],[2,$.j]]),Z["\u0275mpd"](512,$.m,$.m,[[2,$.r],[2,$.k]]),Z["\u0275mpd"](512,f,f,[])])}),tn=l("/oeL"),ln=l("fc+i");h.production&&Object(tn.enableProdMode)(),Object(ln.j)().bootstrapModuleFactory(nn)},gFIY:function(n,t){function l(n){return new Promise(function(t,l){l(new Error("Cannot find module '"+n+"'."))})}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="gFIY"}},[0]);