webpackJsonp([1],{0:function(n,t,l){n.exports=l("cDNt")},cDNt:function(n,t,l){"use strict";function e(n){return _["\u0275vid"](0,[(n()(),_["\u0275eld"](0,0,null,null,15,"div",[],null,null,null,null,null)),(n()(),_["\u0275ted"](-1,null,["\n    "])),(n()(),_["\u0275eld"](2,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),_["\u0275ted"](-1,null,["Sign In"])),(n()(),_["\u0275ted"](-1,null,["\n    "])),(n()(),_["\u0275eld"](5,0,null,null,9,"div",[["class","signin"]],null,null,null,null,null)),(n()(),_["\u0275ted"](-1,null,["\n      "])),(n()(),_["\u0275eld"](7,0,null,null,1,"button",[["class","button"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;if("click"===t){e=!1!==u.auth.signIn()&&e}return e},null,null)),(n()(),_["\u0275ted"](-1,null,["Sign In"])),(n()(),_["\u0275ted"](-1,null,["\n      "])),(n()(),_["\u0275eld"](10,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),_["\u0275ted"](-1,null,["Don't have an account? "])),(n()(),_["\u0275eld"](12,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;if("click"===t){e=!1!==u.signUp()&&e}return e},null,null)),(n()(),_["\u0275ted"](-1,null,["Sign Up"])),(n()(),_["\u0275ted"](-1,null,["\n    "])),(n()(),_["\u0275ted"](-1,null,["\n  "]))],null,null)}function u(n){return _["\u0275vid"](0,[(n()(),_["\u0275eld"](0,0,null,null,18,"div",[["class","signin"]],null,null,null,null,null)),(n()(),_["\u0275ted"](-1,null,["\n    "])),(n()(),_["\u0275eld"](2,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),_["\u0275ted"](-1,null,["Welcome!"])),(n()(),_["\u0275ted"](-1,null,["\n    "])),(n()(),_["\u0275eld"](5,0,null,null,12,"div",[],null,null,null,null,null)),(n()(),_["\u0275ted"](-1,null,["\n      "])),(n()(),_["\u0275eld"](7,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),_["\u0275ted"](8,null,["You are logged in as ",""])),(n()(),_["\u0275ted"](-1,null,["\n      "])),(n()(),_["\u0275eld"](10,0,null,null,1,"a",[["class","button"],["href","/checkout"]],null,null,null,null,null)),(n()(),_["\u0275ted"](-1,null,["Continue to Checkout"])),(n()(),_["\u0275ted"](-1,null,["\n      "])),(n()(),_["\u0275eld"](13,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),_["\u0275ted"](14,null,["Not ","? "])),(n()(),_["\u0275eld"](15,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;if("click"===t){e=!1!==u.auth.logout()&&e}return e},null,null)),(n()(),_["\u0275ted"](-1,null,["Sign Out"])),(n()(),_["\u0275ted"](-1,null,["\n    "])),(n()(),_["\u0275ted"](-1,null,["\n  "]))],null,function(n,t){var l=t.component;n(t,8,0,null==l.user?null:l.user.email),n(t,14,0,null==l.user?null:l.user.email)})}function o(n){return _["\u0275vid"](0,[(n()(),_["\u0275eld"](0,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(n()(),_["\u0275ted"](-1,null,["\n  "])),(n()(),_["\u0275and"](16777216,null,null,1,null,e)),_["\u0275did"](3,16384,null,0,A.h,[_.ViewContainerRef,_.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),_["\u0275ted"](-1,null,["\n  "])),(n()(),_["\u0275and"](16777216,null,null,1,null,u)),_["\u0275did"](6,16384,null,0,A.h,[_.ViewContainerRef,_.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),_["\u0275ted"](-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,!l.auth.authenticated()),n(t,6,0,l.auth.authenticated())},null)}function i(n){return _["\u0275vid"](0,[(n()(),_["\u0275eld"](0,0,null,null,1,"app-signin",[],null,null,null,o,D)),_["\u0275did"](1,114688,null,0,O,[C,P.k],null,null)],function(n,t){n(t,1,0)},null)}function r(n){return q["\u0275vid"](0,[(n()(),q["\u0275eld"](0,0,null,null,7,"p",[["class","small"]],null,null,null,null,null)),(n()(),q["\u0275ted"](-1,null,["Didn't get an email? \n      \t"])),(n()(),q["\u0275eld"](2,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;if("click"===t){e=!1!==u.resendConfirmation()&&e}return e},null,null)),(n()(),q["\u0275ted"](-1,null,["Resend the Confirmation."])),(n()(),q["\u0275ted"](-1,null,["\n      \t"])),(n()(),q["\u0275eld"](5,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;if("click"===t){e=!1!==u.auth.signOut()&&e}return e},null,null)),(n()(),q["\u0275ted"](-1,null,["Sign Out"])),(n()(),q["\u0275ted"](-1,null,["\n      "]))],null,null)}function a(n){return q["\u0275vid"](0,[(n()(),q["\u0275eld"](0,0,null,null,1,"p",[["class","small"]],null,null,null,null,null)),(n()(),q["\u0275ted"](-1,null,["Confirmation sent"]))],null,null)}function c(n){return q["\u0275vid"](0,[(n()(),q["\u0275eld"](0,0,null,null,23,"div",[["class","container"]],null,null,null,null,null)),(n()(),q["\u0275ted"](-1,null,["\n  "])),(n()(),q["\u0275eld"](2,0,null,null,20,"div",[],null,null,null,null,null)),(n()(),q["\u0275ted"](-1,null,["\n    "])),(n()(),q["\u0275eld"](4,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),q["\u0275ted"](-1,null,["Confirm Your Account"])),(n()(),q["\u0275ted"](-1,null,["\n    "])),(n()(),q["\u0275eld"](7,0,null,null,14,"div",[["class","signin confirm-account"]],null,null,null,null,null)),(n()(),q["\u0275ted"](-1,null,["\n      "])),(n()(),q["\u0275eld"](9,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),q["\u0275ted"](-1,null,["Please check your email to confirm your account."])),(n()(),q["\u0275ted"](-1,null,["\n      "])),(n()(),q["\u0275eld"](12,0,null,null,2,"button",[["class","button"],["routerLink","/signin"]],null,[[null,"click"]],function(n,t,l){var e=!0;if("click"===t){e=!1!==q["\u0275nov"](n,13).onClick()&&e}return e},null,null)),q["\u0275did"](13,16384,null,0,F.l,[F.k,F.a,[8,null],q.Renderer2,q.ElementRef],{routerLink:[0,"routerLink"]},null),(n()(),q["\u0275ted"](-1,null,["Continue"])),(n()(),q["\u0275ted"](-1,null,["\n      "])),(n()(),q["\u0275and"](16777216,null,null,1,null,r)),q["\u0275did"](17,16384,null,0,H.h,[q.ViewContainerRef,q.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),q["\u0275ted"](-1,null,["\n      "])),(n()(),q["\u0275and"](16777216,null,null,1,null,a)),q["\u0275did"](20,16384,null,0,H.h,[q.ViewContainerRef,q.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),q["\u0275ted"](-1,null,["\n    "])),(n()(),q["\u0275ted"](-1,null,["\n  "])),(n()(),q["\u0275ted"](-1,null,["\n"]))],function(n,t){var l=t.component;n(t,13,0,"/signin"),n(t,17,0,!l.confirmationEmailSent),n(t,20,0,l.confirmationEmailSent)},null)}function s(n){return q["\u0275vid"](0,[(n()(),q["\u0275eld"](0,0,null,null,1,"app-confirm-account",[],null,null,null,c,U)),q["\u0275did"](1,114688,null,0,B,[C,F.k],null,null)],function(n,t){n(t,1,0)},null)}function d(n){return X["\u0275vid"](0,[(n()(),X["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),X["\u0275did"](1,212992,null,0,x.n,[x.b,X.ViewContainerRef,X.ComponentFactoryResolver,[8,null],X.ChangeDetectorRef],null,null)],function(n,t){n(t,1,0)},null)}function p(n){return X["\u0275vid"](0,[(n()(),X["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,d,z)),X["\u0275did"](1,49152,null,0,m,[],null,null)],null,null)}Object.defineProperty(t,"__esModule",{value:!0});var h={domain:"endtoend.airshipcms-alpha.io",production:!1,auth0Domain:"airshipcms-alpha.auth0.com",auth0ClientID:"iL9u-0bszQu-NFn4jXeq04LnTWaivVP5",auth0Secret:"dJmDMglFScWgETq5caqJ_VF_2eef8y_dkuI9B2vapOz6CiEXX65sK5rncrPMxq_g",auth0RedurectUri:"https://endtoend.airshipcms-alpha.io/api/auth0/",auth0ApiClientID:"dnuH94ewI0db3d9OACJa2ywoglT1XJNU",auth0ApiSecret:"ugg5Ja6iE4z8nUH35OnGrBOEXAs-oXuXBjWObNlJGI0YRxLrCOYdlu6QGE2w3iJ0"},f=function(){function n(){}return n}(),m=function(){function n(){this.title="app"}return n}(),g=l("Dqrr"),v=(l.n(g),l("bKpL")),k=(l.n(v),l("CPp0")),y=l("/gyq"),I=l.n(y),S=l("W4CS"),C=(l.n(S),function(){function n(n){var t=this;this.http=n,this.id_token=localStorage.getItem("id_token"),this.options={closable:!0,initialScreen:"login",allowedConnections:["Username-Password-Authentication"],auth:{redirectUrl:h.auth0RedurectUri,responseType:"code"},theme:{primaryColor:"#7C8390",logo:"https://res.cloudinary.com/airship/image/upload/v1492152050/auth0.png"}},this.lock=new I.a(h.auth0ClientID,h.auth0Domain,this.options),this.user=JSON.parse(localStorage.getItem("user")),this.status=new v.Observable(function(n){return t.observer=n}).share(),this.lock.on("authenticated",function(n){t.lock.getProfile(t.id_token,function(n,l){n&&console.error("no user profile"),localStorage.setItem("profile",JSON.stringify(l)),t.changeState(!0)})})}return n.prototype.changeState=function(n){void 0!==this.observer&&this.observer.next(n)},n.prototype.saveToken=function(n){this.id_token=n,localStorage.setItem("id_token",n)},n.prototype.signIn=function(){this.options.initialScreen="login",this.lock=new I.a(h.auth0ClientID,h.auth0Domain,this.options),this.lock.show()},n.prototype.signUp=function(){this.options.initialScreen="signUp",this.lock=new I.a(h.auth0ClientID,h.auth0Domain,this.options),this.lock.show()},n.prototype.authenticated=function(){return Object(S.tokenNotExpired)("id_token")},n.prototype.signOut=function(){delete localStorage.id_token,delete localStorage.profile},n.prototype.getProfile=function(){return JSON.parse(localStorage.getItem("profile"))},n.prototype.getAirshipUser=function(){var n=new k.Headers({Authorization:"Bearer "+this.id_token}),t=new k.RequestOptions({headers:n});return this.http.get("/api/account/profile",t).toPromise().then(function(n){return n.json()}).catch(this.handleError)},n.prototype.getAccessToken=function(n){var t=new k.Headers({"Content-type":"application/json"}),l=new k.RequestOptions({headers:t}),e={client_id:h.auth0ClientID,redirect_uri:"https://"+h.domain+"/api/auth0/",client_secret:h.auth0Secret,grant_type:"authorization_code",code:n};return this.http.post("https://"+h.auth0Domain+"/oauth/token",e,l).toPromise().then(function(n){return n.json()}).catch(this.handleError)},n.prototype.getAccount=function(){var n=new k.Headers({Authorization:"Bearer "+this.id_token}),t=new k.RequestOptions({headers:n});return this.http.get("/api/account",t).map(function(n){return n.json()}).catch(this.handleError)},n.prototype.getToken=function(){var n=new k.Headers({"Content-Type":"application/json"}),t=new k.RequestOptions({headers:n}),l="https://"+h.auth0Domain+"/oauth/token",e={grant_type:"client_credentials",client_id:h.auth0ApiClientID,client_secret:h.auth0ApiSecret,audience:"https://"+h.auth0Domain+"/api/v2/"};return this.http.post(l,e,t).toPromise().then(function(n){return n.json()}).catch(this.handleError)},n.prototype.resendVerification=function(n){var t=new k.Headers({Authorization:"Bearer "+n,"Content-Type":"application/json"}),l=new k.RequestOptions({headers:t}),e={user_id:JSON.parse(localStorage.getItem("profile")).user_id},u="https://"+h.auth0Domain+"/api/v2/jobs/verification-email";return this.http.post(u,e,l).toPromise().then(function(n){return n.json()}).catch(this.handleError)},n.prototype.handleError=function(n){return v.Observable.throw(n)},n.ctorParameters=function(){return[{type:k.Http}]},n}()),b=l("BkNc"),w=function(){function n(n,t){this.auth=n,this.router=t,this.status=!1}return n.prototype.canActivate=function(){return!!this.auth.authenticated()||(this.router.navigate(["/signin"]),!1)},n.ctorParameters=function(){return[{type:C},{type:b.k}]},n}(),R=l("BkNc"),O=function(){function n(n,t){this.auth=n,this.router=t}return n.prototype.ngOnInit=function(){var n=this;this.getAccessToken(),this.verified=!!this.auth.getProfile()&&this.auth.getProfile().email_verified,!this.verified&&this.auth.authenticated()&&this.router.navigate(["/signin/confirm-account"]),this.auth.authenticated()&&this.auth.getProfile().email_verified?this.getUser():this.auth.status.subscribe(function(t){t&&(n.verified=n.auth.getProfile().email_verified),n.verified=!!n.auth.getProfile()&&n.auth.getProfile().email_verified,n.verified?null!==n.user&&void 0!==n.user||!n.verified||n.getUser():n.router.navigate(["/signin/confirm-account"])})},n.prototype.signIn=function(){localStorage.clear(),this.auth.signIn()},n.prototype.signUp=function(){localStorage.clear(),this.auth.signUp()},n.prototype.getUser=function(){var n=this;this.auth.getAirshipUser().then(function(t){localStorage.setItem("user",JSON.stringify(t)),n.user=t,n.auth.getAccount().subscribe(function(n){return localStorage.setItem("account",JSON.stringify(n))},function(n){return console.error(n)})}).catch(function(n){console.error(n)})},n.prototype.getAccessToken=function(){var n=this,t=location.search.split("code=")[1];void 0!==t&&(localStorage.setItem("code",t),this.auth.getAccessToken(t).then(function(t){n.auth.saveToken(t.id_token),n.auth.lock._events.authenticated(),window.history.pushState("","","/"+window.location.href.substring(window.location.href.lastIndexOf("/")+1).split("?")[0])}).catch(function(n){console.log(n),window.history.pushState("","","/"+window.location.href.substring(window.location.href.lastIndexOf("/")+1).split("?")[0])}))},n.ctorParameters=function(){return[{type:C},{type:R.k}]},n}(),_=l("/oeL"),A=l("qbdv"),P=l("BkNc"),N=[],D=_["\u0275crt"]({encapsulation:2,styles:N,data:{}}),T=_["\u0275ccf"]("app-signin",O,i,{},{},[]),E=[""],L=[""],j=l("BkNc"),B=function(){function n(n,t){this.auth=n,this.router=t}return n.prototype.ngOnInit=function(){var n=this;this.auth.lock.getProfile(localStorage.getItem("id_token"),function(t,l){if(t)return console.error(t);localStorage.setItem("profile",JSON.stringify(l)),l.email_verified&&n.router.navigate(["/signin"])})},n.prototype.resendConfirmation=function(){var n=this;this.auth.getToken().then(function(t){n.auth.resendVerification(t.access_token).then(function(t){n.confirmationEmailSent=!0,setTimeout(function(){return n.confirmationEmailSent=!1},3e3)}).catch(function(n){return console.error(n)})}).catch(function(n){return console.error(n)})},n.ctorParameters=function(){return[{type:C},{type:j.k}]},n}(),q=l("/oeL"),F=l("BkNc"),H=l("qbdv"),J=[E,L],U=q["\u0275crt"]({encapsulation:0,styles:J,data:{}}),M=q["\u0275ccf"]("app-confirm-account",B,s,{},{},[]),X=l("/oeL"),x=l("BkNc"),V=[E],z=X["\u0275crt"]({encapsulation:0,styles:V,data:{}}),Y=X["\u0275ccf"]("app-root",m,p,{},{},[]),W=l("/oeL"),Z=l("qbdv"),G=l("fc+i"),K=l("CPp0"),Q=l("BkNc"),$=W["\u0275cmf"](f,[m],function(n){return W["\u0275mod"]([W["\u0275mpd"](512,W.ComponentFactoryResolver,W["\u0275CodegenComponentFactoryResolver"],[[8,[T,M,Y]],[3,W.ComponentFactoryResolver],W.NgModuleRef]),W["\u0275mpd"](5120,W.LOCALE_ID,W["\u0275m"],[[3,W.LOCALE_ID]]),W["\u0275mpd"](4608,Z.j,Z.i,[W.LOCALE_ID]),W["\u0275mpd"](5120,W.APP_ID,W["\u0275f"],[]),W["\u0275mpd"](5120,W.IterableDiffers,W["\u0275k"],[]),W["\u0275mpd"](5120,W.KeyValueDiffers,W["\u0275l"],[]),W["\u0275mpd"](4608,G.b,G.s,[Z.c]),W["\u0275mpd"](6144,W.Sanitizer,null,[G.b]),W["\u0275mpd"](4608,G.e,G.f,[]),W["\u0275mpd"](5120,G.c,function(n,t,l,e){return[new G.k(n),new G.o(t),new G.n(l,e)]},[Z.c,Z.c,Z.c,G.e]),W["\u0275mpd"](4608,G.d,G.d,[G.c,W.NgZone]),W["\u0275mpd"](135680,G.m,G.m,[Z.c]),W["\u0275mpd"](4608,G.l,G.l,[G.d,G.m]),W["\u0275mpd"](6144,W.RendererFactory2,null,[G.l]),W["\u0275mpd"](6144,G.p,null,[G.m]),W["\u0275mpd"](4608,W.Testability,W.Testability,[W.NgZone]),W["\u0275mpd"](4608,G.g,G.g,[Z.c]),W["\u0275mpd"](4608,G.i,G.i,[Z.c]),W["\u0275mpd"](4608,K.BrowserXhr,K.BrowserXhr,[]),W["\u0275mpd"](4608,K.ResponseOptions,K.BaseResponseOptions,[]),W["\u0275mpd"](5120,K.XSRFStrategy,K["\u0275b"],[]),W["\u0275mpd"](4608,K.XHRBackend,K.XHRBackend,[K.BrowserXhr,K.ResponseOptions,K.XSRFStrategy]),W["\u0275mpd"](4608,K.RequestOptions,K.BaseRequestOptions,[]),W["\u0275mpd"](5120,K.Http,K["\u0275c"],[K.XHRBackend,K.RequestOptions]),W["\u0275mpd"](5120,Q.a,Q.w,[Q.k]),W["\u0275mpd"](4608,Q.d,Q.d,[]),W["\u0275mpd"](6144,Q.f,null,[Q.d]),W["\u0275mpd"](135680,Q.o,Q.o,[Q.k,W.NgModuleFactoryLoader,W.Compiler,W.Injector,Q.f]),W["\u0275mpd"](4608,Q.e,Q.e,[]),W["\u0275mpd"](5120,Q.h,Q.z,[Q.x]),W["\u0275mpd"](5120,W.APP_BOOTSTRAP_LISTENER,function(n){return[n]},[Q.h]),W["\u0275mpd"](4608,C,C,[K.Http]),W["\u0275mpd"](4608,w,w,[C,Q.k]),W["\u0275mpd"](512,Z.b,Z.b,[]),W["\u0275mpd"](1024,W.ErrorHandler,G.q,[]),W["\u0275mpd"](1024,W.NgProbeToken,function(){return[Q.s()]},[]),W["\u0275mpd"](512,Q.x,Q.x,[W.Injector]),W["\u0275mpd"](1024,W.APP_INITIALIZER,function(n,t,l){return[G.r(n,t),Q.y(l)]},[[2,G.h],[2,W.NgProbeToken],Q.x]),W["\u0275mpd"](512,W.ApplicationInitStatus,W.ApplicationInitStatus,[[2,W.APP_INITIALIZER]]),W["\u0275mpd"](131584,W["\u0275e"],W["\u0275e"],[W.NgZone,W["\u0275Console"],W.Injector,W.ErrorHandler,W.ComponentFactoryResolver,W.ApplicationInitStatus]),W["\u0275mpd"](2048,W.ApplicationRef,null,[W["\u0275e"]]),W["\u0275mpd"](512,W.ApplicationModule,W.ApplicationModule,[W.ApplicationRef]),W["\u0275mpd"](512,G.a,G.a,[[3,G.a]]),W["\u0275mpd"](512,K.HttpModule,K.HttpModule,[]),W["\u0275mpd"](1024,Q.r,Q.u,[[3,Q.k]]),W["\u0275mpd"](512,Q.q,Q.c,[]),W["\u0275mpd"](512,Q.b,Q.b,[]),W["\u0275mpd"](256,Q.g,{},[]),W["\u0275mpd"](1024,Z.g,Q.t,[Z.l,[2,Z.a],Q.g]),W["\u0275mpd"](512,Z.f,Z.f,[Z.g]),W["\u0275mpd"](512,W.Compiler,W.Compiler,[]),W["\u0275mpd"](512,W.NgModuleFactoryLoader,W.SystemJsNgModuleLoader,[W.Compiler,[2,W.SystemJsNgModuleLoaderConfig]]),W["\u0275mpd"](1024,Q.i,function(){return[[{path:"signin",component:O},{path:"signin/confirm-account",component:B,canActivate:[w]}]]},[]),W["\u0275mpd"](1024,Q.k,Q.v,[W.ApplicationRef,Q.q,Q.b,Z.f,W.Injector,W.NgModuleFactoryLoader,W.Compiler,Q.i,Q.g,[2,Q.p],[2,Q.j]]),W["\u0275mpd"](512,Q.m,Q.m,[[2,Q.r],[2,Q.k]]),W["\u0275mpd"](512,f,f,[])])}),nn=l("/oeL"),tn=l("fc+i");h.production&&Object(nn.enableProdMode)(),Object(tn.j)().bootstrapModuleFactory($)},gFIY:function(n,t){function l(n){return new Promise(function(t,l){l(new Error("Cannot find module '"+n+"'."))})}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="gFIY"}},[0]);